{"version":3,"file":"static/js/490.b300c8ea.chunk.js","mappings":"uNAOA,MA+DA,EA/DiBA,KACb,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OACVC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC7B,WAAEC,EAAU,MAAEC,IAAUC,EAAAA,EAAAA,KAG9B,GAAIF,IAAc,CACd,MAAMG,EAAe,IAAIC,gBAAgBT,EAASU,QAClDZ,EAAS,KAADa,OAAMH,EAAaI,YAC/B,CAkBA,OACIC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,UAC7DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wFAAuFC,SAAA,EAClGF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,uCAAsCC,SAAC,eAGrDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,8BAA6BC,SAAC,aAC5CC,EAAAA,EAAAA,MAAA,QAAMC,SAvBIC,IAElB,GADAA,EAAEC,iBACGjB,EAEL,IACII,EAAMJ,GACNN,GAASwB,EAAAA,EAAAA,IAAW,CAAEC,OAAQnB,KAC9B,MAAMM,EAAe,IAAIC,gBAAgBT,EAASU,QAClDZ,EAAS,KAADa,OAAMH,EAAaI,aAC3BU,EAAAA,GAAMC,QAAQ,gCAClB,CAAE,MAAOC,GACLF,EAAAA,GAAME,MAAM,0CACZC,QAAQD,MAAM,0BAA2BA,EAC7C,GAUqCT,SAAA,EACzBF,EAAAA,EAAAA,KAAA,SACIa,KAAK,QACLZ,UAAU,oCACVa,YAAY,QACZC,MAAO1B,EACP2B,SAAWX,GAAMf,EAASe,EAAEY,OAAOF,OACnCG,UAAQ,KAEZlB,EAAAA,EAAAA,KAAA,UACIa,KAAK,SACLZ,UAAU,gEAA+DC,SAC5E,sBAILC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,OAAMC,SAAA,CAAC,2BACS,KACzBF,EAAAA,EAAAA,KAACmB,EAAAA,GAAI,CAACC,GAAG,SAASnB,UAAU,6BAA4BC,SAAC,sBAK/D,C","sources":["pages/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { createUser } from \"../store/movieWatchListSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Register = () => {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const [email, setEmail] = useState(\"\");\r\n    const { isLoggedIn, login } = useAuth();\r\n\r\n    // Redirect if user is already logged in\r\n    if (isLoggedIn()) {\r\n        const searchParams = new URLSearchParams(location.search);\r\n        navigate(`/?${searchParams.toString()}`);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (!email) return; // Prevent submission if email is empty\r\n\r\n        try {\r\n            login(email);\r\n            dispatch(createUser({ userId: email }));\r\n            const searchParams = new URLSearchParams(location.search);\r\n            navigate(`/?${searchParams.toString()}`);\r\n            toast.success(\"User Registered Successfully!\");\r\n        } catch (error) {\r\n            toast.error(\"Registration failed. Please try again.\");\r\n            console.error(\"Error registering user:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-full h-screen flex justify-center items-center\">\r\n            <div className=\"max-w-md w-full min-w-fit mx-auto p-6 m-10 bg-white rounded-lg shadow-2xl text-center\">\r\n                <h2 className=\"text-3xl font-bold mb-4 text-red-600\">\r\n                    WatchList\r\n                </h2>\r\n                <h2 className=\"text-2xl font-semibold mb-4\">Sign Up</h2>\r\n                <form onSubmit={handleSubmit}>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"w-full border rounded-lg p-2 mb-4\"\r\n                        placeholder=\"Email\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        required\r\n                    />\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"w-full bg-red-500 hover:bg-red-700 text-white py-2 rounded-lg\"\r\n                    >\r\n                        Register User\r\n                    </button>\r\n                </form>\r\n                <p className=\"mt-2\">\r\n                    Already have an account?{\" \"}\r\n                    <Link to=\"/login\" className=\"text-red-500 font-semibold\">\r\n                        Login here\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Register;\r\n"],"names":["Register","dispatch","useDispatch","navigate","useNavigate","location","useLocation","email","setEmail","useState","isLoggedIn","login","useAuth","searchParams","URLSearchParams","search","concat","toString","_jsx","className","children","_jsxs","onSubmit","e","preventDefault","createUser","userId","toast","success","error","console","type","placeholder","value","onChange","target","required","Link","to"],"sourceRoot":""}