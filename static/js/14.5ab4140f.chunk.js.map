{"version":3,"file":"static/js/14.5ab4140f.chunk.js","mappings":"qNAOA,MA+DA,EA/DcA,KACV,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OACVC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC7B,WAAEC,EAAU,MAAEC,IAAUC,EAAAA,EAAAA,KAkB9B,GAAIF,IAAc,CACd,MAAMG,EAAe,IAAIC,gBAAgBT,EAASU,QAClDZ,EAAS,KAADa,OAAMH,EAAaI,YAC/B,CAEA,OACIC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,UAC7DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gGAA+FC,SAAA,EAC1GF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,0CAAyCC,SAAC,eAGxDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,iCAAgCC,SAAC,WAC/CC,EAAAA,EAAAA,MAAA,QAAMC,SA5BIC,IAClBA,EAAEC,iBACF,IACIb,EAAMJ,GACNN,GAASwB,EAAAA,EAAAA,IAAW,CAAEC,OAAQnB,KAE9B,MAAMM,EAAe,IAAIC,gBAAgBT,EAASU,QAClDZ,EAAS,KAADa,OAAMH,EAAaI,aAC3BU,EAAAA,GAAMC,QAAQ,+BAClB,CAAE,MAAOC,GACLC,QAAQD,MAAM,gBAAiBA,GAC/BF,EAAAA,GAAME,MAAM,kCAChB,GAgBqCT,SAAA,EACzBF,EAAAA,EAAAA,KAAA,SACIa,KAAK,QACLZ,UAAU,oCACVa,YAAY,QACZC,MAAO1B,EACP2B,SAAWX,GAAMf,EAASe,EAAEY,OAAOF,OACnCG,UAAQ,KAEZlB,EAAAA,EAAAA,KAAA,UACIa,KAAK,SACLM,UAAW9B,EACXY,UAAU,8GAA6GC,SAC1H,cAILC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,OAAMC,SAAA,CAAC,yBACO,KACvBF,EAAAA,EAAAA,KAACoB,EAAAA,GAAI,CAACC,GAAG,YAAYpB,UAAU,6BAA4BC,SAAC,yBAKlE,C","sources":["pages/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { createUser } from \"../store/movieWatchListSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Login = () => {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const [email, setEmail] = useState(\"\");\r\n    const { isLoggedIn, login } = useAuth();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            login(email);\r\n            dispatch(createUser({ userId: email }));\r\n\r\n            const searchParams = new URLSearchParams(location.search);\r\n            navigate(`/?${searchParams.toString()}`);\r\n            toast.success(\"User Logged in Successfully!\");\r\n        } catch (error) {\r\n            console.error(\"Login failed:\", error);\r\n            toast.error(\"Login failed. Please try again.\");\r\n        }\r\n    };\r\n\r\n    // Redirect if already logged in\r\n    if (isLoggedIn()) {\r\n        const searchParams = new URLSearchParams(location.search);\r\n        navigate(`/?${searchParams.toString()}`);\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full h-screen flex justify-center items-center\">\r\n            <div className=\"max-w-md w-full min-w-fit mx-5 md:mx-auto p-6 m-10 bg-white rounded-lg shadow-2xl text-center\">\r\n                <h2 className=\"text-[3rem] font-bold mb-4 text-red-600\">\r\n                    WatchList\r\n                </h2>\r\n                <h2 className=\"text-[2rem] font-semibold mb-4\">Login</h2>\r\n                <form onSubmit={handleSubmit}>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"w-full border rounded-lg p-2 mb-4\"\r\n                        placeholder=\"Email\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        required\r\n                    />\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={!email}\r\n                        className=\"w-full bg-red-500 disabled:hover:bg-red-400 disabled:bg-red-400 hover:bg-red-700 text-white py-2 rounded-lg\"\r\n                    >\r\n                        Login\r\n                    </button>\r\n                </form>\r\n                <p className=\"mt-2\">\r\n                    Don't have an account?{\" \"}\r\n                    <Link to=\"/register\" className=\"text-red-500 font-semibold\">\r\n                        Register here\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["Login","dispatch","useDispatch","navigate","useNavigate","location","useLocation","email","setEmail","useState","isLoggedIn","login","useAuth","searchParams","URLSearchParams","search","concat","toString","_jsx","className","children","_jsxs","onSubmit","e","preventDefault","createUser","userId","toast","success","error","console","type","placeholder","value","onChange","target","required","disabled","Link","to"],"sourceRoot":""}